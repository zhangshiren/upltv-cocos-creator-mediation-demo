{"version":3,"sources":["UPLTV.js"],"names":["upltvoc","require","upltva","isShowLog","printLog","msg","undefined","upltv","upltvbridge","cc","sys","os","OS_ANDROID","printJsLog","OS_IOS","isOnlineReportEnable","isOnlineDebugReportEnable","onlineReportCall","name","cpid","onlineDebugReport","functionNames","handleVokeParams","params","startpos","indexOf","substr","endpos","callname","substring","cpadid","message","canreport","Function_Receive_Callback","Function_Reward_DidLoadFail","ltvMap","rewardLoadFailCall","resetRewardLoadCallback","Function_Reward_DidLoadSuccess","rewardLoadSuccessCall","Function_Reward_WillOpen","call","rewardShowCall","AdEventType","VIDEO_EVENT_WILL_SHOW","Function_Reward_DidOpen","VIDEO_EVENT_DID_SHOW","Function_Reward_DidClick","VIDEO_EVENT_DID_CLICK","Function_Reward_DidClose","VIDEO_EVENT_DID_CLOSE","Function_Reward_DidGivien","VIDEO_EVENT_DID_GIVEN_REWARD","Function_Reward_DidAbandon","VIDEO_EVENT_DID_ABANDON_REWARD","Function_Interstitial_DidLoadFail","k","v","get","interstitialLoadFailCall","remove","Function_Interstitial_DidLoadSuccess","interstitialLoadSuccessCall","Function_Interstitial_Willshow","callReport","interstitialShowCall","INTERSTITIAL_EVENT_WILL_SHOW","Function_Interstitial_Didshow","INTERSTITIAL_EVENT_DID_SHOW","Function_Interstitial_Didclose","INTERSTITIAL_EVENT_DID_CLOSE","Function_Interstitial_Didclick","INTERSTITIAL_EVENT_DID_CLICK","Function_Banner_DidRemove","bannerEventCall","BANNER_EVENT_DID_REMOVED","Function_Banner_DidClick","BANNER_EVENT_DID_CLICK","Function_Banner_DidShow","BANNER_EVENT_DID_SHOW","Function_Icon_DidLoad","iconEventCall","ICON_EVENT_DID_LOAD","Function_Icon_DidLoadFail","ICON_EVENT_DID_LOADFAIL","Function_Icon_DidShow","ICON_EVENT_DID_SHOW","Function_Icon_DidClick","ICON_EVENT_DID_CLICK","Function_ExitAd_DidShow","backPressedCall","EXITAD_EVENT_DID_SHOW","Function_ExitAd_DidClick","EXITAD_EVENT_DID_CLICK","Function_ExitAd_DidClickMore","EXITAD_EVENT_DID_CLICKMORE","Function_ExitAd_DidExit","EXITAD_EVENT_DID_EXIT","Function_ExitAd_DidCancel","EXITAD_EVENT_DID_CANCEL","map","Object","length","size","put","key","value","exist","print","str","each","test","log","loadJsBridgeObject","bridgeInterface","initSdkSuccessed","initVokeCall","gdprcallbak","initSdkCallback","msg1","vokeMethod","vokeILReadyMethod","cpPlaceId","r","handleILReadyMethod","rr","intSdk","zone","callback","vokecall","setShowLog","initIosSDK","initAndroidSDK","initAbtConfigJson","gameAccountId","isCompleteTask","isPaid","promotionChannelName","gender","age","tags","tagstring","Array","count","i","initIosAbtConfigJson","initAndroidAbtConfigJson","getAbtConfig","getIosAbtConfig","getAndroidAbtConfig","showRewardDebugUI","showIosRewardDebugUI","showAndroidRewardDebugUI","setRewardVideoLoadCallback","loadsuccess","locadfail","setIosRewardVideoLoadCallback","setAndroidRewardVideoLoadCallback","setRewardVideoShowCallback","showCall","isRewardReady","isIosRewardReady","isAndroidRewardReady","showRewardVideo","showIosRewardVideo","showAndroidRewardVideo","isInterstitialReadyAsyn","isIosInterstitialReadyAsyn","isAndroidInterstitialReadyAsyn","isInterstitialReady","isIosInterstitialReady","isAndroidInterstitialReady","showInterstitialAd","showIosInterstitialAd","showAndroidInterstitialAd","setInterstitialLoadCallback","setIosInterstitialLoadCallback","setAndroidInterstitialLoadCallback","setInterstitialShowCallback","showInterstitialDebugUI","showIosInterstitialDebugUI","showAndroidInterstitialDebugUI","removeBannerAdAt","removeIosBannerAdAt","removeAndroidBannerAdAt","showBannerAdAtTop","showIosBannerAdAtTop","showAndroidBannerAdAtTop","showBannerAdAtBottom","showIosBannerAdAtBottom","showAndroidBannerAdAtBottom","hideBannerAdAtTop","hideIosBannerAdAtTop","hideAndroidBannerAdAtTop","hideBannerAdAtBottom","hideIosBannerAdAtBottom","hideAndroidBannerAdAtBottom","setTopBannerPadingForIphoneX","padding","setIosTopBannerPading","setBannerShowCallback","bannerCall","setIconCallback","iconCall","showIconAd","x","y","width","height","rotationAngle","showAndroidIconAdAt","showIosIconAdAt","removeIconAd","removeAndroidIconAdAt","removeIosIconAdAt","loadAdsByManual","loadIosAdsByManual","loadAndroidAdsByManual","exitApp","exitIosApp","exitAndroidApp","setManifestPackageName","pkg","setAndroidManifestPackageName","onBackPressed","onAndroidBackPressed","setCustomerId","androidid","setAndroidCustomerId","setBackPressedCallback","backCall","updateAccessPrivacyInfoStatus","gdprPermissionEnumValue","GDPRPermissionEnum","UPAccessPrivacyInfoStatusUnkown","UPAccessPrivacyInfoStatusAccepted","UPAccessPrivacyInfoStatusDefined","updateAndroidAccessPrivacyInfoStatus","updateIosAccessPrivacyInfoStatus","getAccessPrivacyInfoStatus","status","getAndroidAccessPrivacyInfoStatus","getIosAccessPrivacyInfoStatus","notifyAccessPrivacyInfoStatus","functionId","callId","notifyAndroidAccessPrivacyInfoStatus","notifyIosAccessPrivacyInfoStatus","isEuropeanUnionUser","isAndroidEuropeanUnionUser","isIosEuropeanUnionUser","reportIvokePluginMethodReceive","reportRDShowDid","reportRDRewardClick","reportRDRewardClose","reportRDRewardGiven","reportRDRewardCancel","reportILShowDid","reportILClick","reportILClose","isLogOpened","isIosLogOpened","isAndroidLogOpened","setIsChild","isChild","setAndroidIsChild","setBirthday","year","month","setAndroidBirthday","javaCall","module","exports"],"mappings":"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","file":"UPLTV.js","sourceRoot":"../../../../assets/Script","sourcesContent":["//在使用的地方添加以下两行代码即可\r\n//var upltv = require(\"UPLTV\").upltv;\r\n//cc.bridgeInterface = require(\"UPLTV\").bridgeInterface;\r\n\r\nvar upltvoc = require(\"UPLTVIos\");\r\nvar upltva = require(\"UPLTVAndroid\");\r\n\r\nvar isShowLog = false;\r\n\r\nvar printLog = function(msg) {\r\n    // cc.log(\"===> js call printJsLog() \" + (upltv));\r\n    // cc.log(\"===> js call printJsLog() \" + (upltv.upltvbridge));\r\n    if (undefined != msg && null != msg && isShowLog && upltv != undefined && upltv.upltvbridge != null ) {\r\n        if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            upltv.upltvbridge.printJsLog(msg);\r\n        }\r\n        else if (cc.sys.os === cc.sys.OS_IOS) {\r\n            upltv.upltvbridge.printJsLog(msg);\r\n        }\r\n    }\r\n};\r\n\r\nvar isOnlineReportEnable = function() {\r\n    if (upltv != undefined) {\r\n        return upltv.isOnlineDebugReportEnable();\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n\r\nvar onlineReportCall = function(name, msg, cpid) {\r\n    if (upltv != undefined) {\r\n        if (cpid != undefined) {\r\n            upltv.onlineDebugReport(name, msg, cpid);\r\n        }\r\n        else {\r\n            upltv.onlineDebugReport(name, msg);\r\n        }\r\n    }\r\n}\r\n\r\nvar functionNames = {\r\n\r\n    handleVokeParams : function(params) {\r\n        //printLog(\"===> js handleVokeParams: \" + params);\r\n        if (undefined == params || null == params || typeof params != \"string\") {\r\n            return;\r\n        }\r\n\r\n        var startpos = params.indexOf(\":\");\r\n        var substr = null;\r\n        if (startpos <= 0) {\r\n            return;\r\n        }\r\n\r\n        substr = params.substr(startpos + 1);\r\n        var endpos = substr.indexOf(\",\");\r\n        var callname = substr.substring(0, endpos);\r\n        substr = substr.substr(endpos + 1);\r\n\r\n        var cpadid = null;\r\n        var message = null;\r\n        startpos = substr.indexOf(\":\");\r\n        if (startpos > 0) {\r\n            substr = substr.substr(startpos + 1);\r\n            endpos = substr.indexOf(\",\");\r\n            if (endpos > 0) {\r\n                cpadid = substr.substring(0, endpos);\r\n                substr = substr.substr(endpos + 1);\r\n\r\n                if (substr != null) {\r\n                    startpos = substr.indexOf(\":\");\r\n                    if (startpos > 0) {\r\n                        message = substr.substr(startpos + 1);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        if (isShowLog) {\r\n            printLog(\"===> js handleVokeParams callname: \" + callname);\r\n            printLog(\"===> js handleVokeParams   cpadid: \" + cpadid);\r\n            printLog(\"===> js handleVokeParams  message: \" + message);\r\n        }\r\n        //cc.log(\"===> js onlineDebugReport before function : %s\", callname);\r\n        var canreport = isOnlineReportEnable();\r\n        if (canreport) {\r\n            onlineReportCall(functionNames.Function_Receive_Callback,\r\n                \"CocosJs Receive message, callname:\"+callname+\", cpadid:\"+cpadid);\r\n        }\r\n\r\n\r\n        if (functionNames.Function_Reward_DidLoadFail == callname) {\r\n            if (null != ltvMap.rewardLoadFailCall && typeof ltvMap.rewardLoadFailCall == \"function\") {\r\n                ltvMap.rewardLoadFailCall(cpadid, message);\r\n                ltvMap.resetRewardLoadCallback();\r\n            }\r\n            else {\r\n                printLog(\"===> js rewardLoadFailCall is null or not function\");\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidLoadSuccess == callname) {\r\n            if (null != ltvMap.rewardLoadSuccessCall && typeof ltvMap.rewardLoadSuccessCall == \"function\") {\r\n                ltvMap.rewardLoadSuccessCall(cpadid, message);\r\n                ltvMap.resetRewardLoadCallback();\r\n            }\r\n            else {\r\n                printLog(\"===> rewardLoadSuccessCall is null or not function\");\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_WillOpen == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_WILL_SHOW, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video willopen event.\");\r\n                }\r\n            }\r\n            else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video willopen event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidOpen == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_DID_SHOW, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video shown event.\");\r\n                }\r\n            }\r\n            else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video shown event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidClick == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_DID_CLICK, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video clicked event.\");\r\n                }\r\n            }\r\n            else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video clicked event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidClose == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_DID_CLOSE, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video closed event.\");\r\n                }\r\n            }\r\n            else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video closed event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidGivien == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_DID_GIVEN_REWARD, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video reward given event.\");\r\n                }\r\n            } else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video reward given event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Reward_DidAbandon == callname) {\r\n            var call = ltvMap.rewardShowCall;\r\n            if (call != null && typeof call == \"function\") {\r\n                call(upltv.AdEventType.VIDEO_EVENT_DID_ABANDON_REWARD, cpadid);\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs did run callback on video reward cancel event.\");\r\n                }\r\n            }\r\n            else {\r\n                if (canreport) {\r\n                    onlineReportCall(callname, \"CocosJs not run callback on video reward cancel event.\");\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_DidLoadFail == callname) {\r\n            var k = cpadid + \"_Interstitial\";\r\n            var v = ltvMap.get(k);\r\n            if (null != v) {\r\n                var call = v.interstitialLoadFailCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(cpadid, message);\r\n                }\r\n                ltvMap.remove(k);\r\n                printLog(\"===> Interstitial_DidLoadFail at key:\" + k);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_DidLoadSuccess == callname) {\r\n            var k = cpadid + \"_Interstitial\";\r\n            var v = ltvMap.get(k);\r\n            if (null != v) {\r\n                var call = v.interstitialLoadSuccessCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(cpadid, message);\r\n                } else{\r\n                    printLog(\"===> interstitial_didloadsuccess call is null or non-function type at key:\" + k);\r\n                }\r\n                ltvMap.remove(k);\r\n            }\r\n            else {\r\n                printLog(\"===> interstitial_didloadsuccess v is null at key:\" + k);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_Willshow == callname) {\r\n            var v = ltvMap.get(cpadid);\r\n            var callReport = false;\r\n            if (null != v) {\r\n                var call = v.interstitialShowCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.INTERSTITIAL_EVENT_WILL_SHOW, cpadid);\r\n                    if (canreport) {\r\n                        callReport = true;\r\n                        onlineReportCall(callname, \"CocosJs did run callback on il ad willshown event at \" + cpadid, cpadid);\r\n                    }\r\n                }\r\n            }\r\n            if (canreport && callReport == false) {\r\n                onlineReportCall(callname, \"CocosJs not run callback on il ad willshown event at \" + cpadid, cpadid);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_Didshow == callname) {\r\n            var v = ltvMap.get(cpadid);\r\n            var callReport = false;\r\n            if (null != v) {\r\n                var call = v.interstitialShowCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.INTERSTITIAL_EVENT_DID_SHOW, cpadid);\r\n                    if (canreport) {\r\n                        callReport = true;\r\n                        onlineReportCall(callname, \"CocosJs did run callback on il ad shown event at \" + cpadid, cpadid);\r\n                    }\r\n                }\r\n            }\r\n            if (canreport && callReport == false) {\r\n                onlineReportCall(callname, \"CocosJs not run callback on il ad shown event at \" + cpadid, cpadid);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_Didclose == callname) {\r\n            var v = ltvMap.get(cpadid);\r\n            var callReport = false;\r\n            if (null != v) {\r\n                var call = v.interstitialShowCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.INTERSTITIAL_EVENT_DID_CLOSE, cpadid);\r\n                    if (canreport) {\r\n                        callReport = true;\r\n                        onlineReportCall(callname, \"CocosJs did run callback on il ad closed event at \" + cpadid, cpadid);\r\n                    }\r\n                }\r\n            }\r\n            if (canreport && callReport == false) {\r\n                onlineReportCall(callname, \"CocosJs not run callback on il ad closed event at \" + cpadid, cpadid);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Interstitial_Didclick == callname) {\r\n            var v = ltvMap.get(cpadid);\r\n            var callReport = false;\r\n            if (null != v) {\r\n                var call = v.interstitialShowCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.INTERSTITIAL_EVENT_DID_CLICK, cpadid);\r\n                    if (canreport) {\r\n                        callReport = true;\r\n                        onlineReportCall(callname, \"CocosJs did run callback on il ad clicked event at \" + cpadid, cpadid);\r\n                    }\r\n                }\r\n            }\r\n            if (canreport && callReport == false) {\r\n                onlineReportCall(callname, \"CocosJs not run callback on il ad clicked event at \" + cpadid, cpadid);\r\n            }\r\n        }\r\n        else if (functionNames.Function_Banner_DidRemove == callname) {\r\n            var v = ltvMap.get(cpadid);\r\n            if (null != v) {\r\n                var call = v.bannerEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.BANNER_EVENT_DID_REMOVED, cpadid);\r\n                }\r\n            }\r\n            ltvMap.remove(cpadid);\r\n        }\r\n        else if (functionNames.Function_Banner_DidClick == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.bannerEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.BANNER_EVENT_DID_CLICK, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Banner_DidShow == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.bannerEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.BANNER_EVENT_DID_SHOW, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Icon_DidLoad == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.iconEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.ICON_EVENT_DID_LOAD, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Icon_DidLoadFail == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.iconEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.ICON_EVENT_DID_LOADFAIL, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Icon_DidShow == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.iconEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.ICON_EVENT_DID_SHOW, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else if (functionNames.Function_Icon_DidClick == callname) {\r\n            var v = ltvMap.get(cpadid)\r\n            if (null != v) {\r\n                var call = v.iconEventCall;\r\n                if (null != call && typeof call == \"function\") {\r\n                    call(upltv.AdEventType.ICON_EVENT_DID_CLICK, cpadid);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                if (functionNames.Function_ExitAd_DidShow == callname) {\r\n                    if (null != ltvMap.backPressedCall && typeof ltvMap.backPressedCall == \"function\")\r\n                        ltvMap.backPressedCall(upltv.AdEventType.EXITAD_EVENT_DID_SHOW, message);\r\n                    else\r\n                        printLog(\"===> backPressedCall is null or not function\");\r\n                }\r\n                else if (functionNames.Function_ExitAd_DidClick == callname) {\r\n                    if (null != ltvMap.backPressedCall && typeof ltvMap.backPressedCall == \"function\")\r\n                        ltvMap.backPressedCall(upltv.AdEventType.EXITAD_EVENT_DID_CLICK, message);\r\n                    else\r\n                        printLog(\"===> backPressedCall is null or not function\");\r\n                }\r\n                else if (functionNames.Function_ExitAd_DidClickMore == callname) {\r\n                    if (null != ltvMap.backPressedCall && typeof ltvMap.backPressedCall == \"function\")\r\n                        ltvMap.backPressedCall(upltv.AdEventType.EXITAD_EVENT_DID_CLICKMORE, message);\r\n                    else\r\n                        printLog(\"===> backPressedCall is null or not function\");\r\n                }\r\n                else if (functionNames.Function_ExitAd_DidExit == callname) {\r\n                    if (null != ltvMap.backPressedCall && typeof ltvMap.backPressedCall == \"function\")\r\n                        ltvMap.backPressedCall(upltv.AdEventType.EXITAD_EVENT_DID_EXIT, message);\r\n                    else\r\n                        printLog(\"===> backPressedCall is null or not function\");\r\n                }\r\n                else if (functionNames.Function_ExitAd_DidCancel == callname) {\r\n                    if (null != ltvMap.backPressedCall && typeof ltvMap.backPressedCall == \"function\")\r\n                        ltvMap.backPressedCall(upltv.AdEventType.EXITAD_EVENT_DID_CANCEL, message);\r\n                    else\r\n                        printLog(\"===> backPressedCall is null or not function\");\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n};\r\nfunctionNames.Function_Receive_Callback    = \"receive_callback\";\r\n\r\nfunctionNames.Function_Reward_WillOpen    = \"reward_willopen\";\r\nfunctionNames.Function_Reward_DidOpen    = \"reward_didopen\";\r\nfunctionNames.Function_Reward_DidClick   = \"reward_didclick\";\r\nfunctionNames.Function_Reward_DidClose   = \"reward_didclose\";\r\nfunctionNames.Function_Reward_DidGivien  = \"reward_didgiven\";\r\nfunctionNames.Function_Reward_DidAbandon = \"reward_didabandon\";\r\n\r\nfunctionNames.Function_Interstitial_Willshow  = \"interstitial_willshow\";\r\nfunctionNames.Function_Interstitial_Didshow  = \"interstitial_didshow\";\r\nfunctionNames.Function_Interstitial_Didclose = \"interstitial_didclose\";\r\nfunctionNames.Function_Interstitial_Didclick = \"interstitial_didclick\";\r\n\r\nfunctionNames.Function_Banner_DidShow   = \"banner_didshow\";\r\nfunctionNames.Function_Banner_DidClick  = \"banner_didclick\";\r\nfunctionNames.Function_Banner_DidRemove = \"banner_didremove\";\r\n\r\nfunctionNames.Function_Reward_DidLoadFail    = \"reward_didloadfail\";\r\nfunctionNames.Function_Reward_DidLoadSuccess = \"reward_didloadsuccess\";\r\n\r\nfunctionNames.Function_Interstitial_DidLoadFail    = \"interstitial_didloadfail\";\r\nfunctionNames.Function_Interstitial_DidLoadSuccess = \"interstitial_didloadsuccess\";\r\n\r\nfunctionNames.Function_ExitAd_DidShow     = \"exitad_didshow\";\r\nfunctionNames.Function_ExitAd_DidClick    = \"exitad_didclick\";\r\nfunctionNames.Function_ExitAd_DidClickMore = \"exitad_didclickmore\";\r\nfunctionNames.Function_ExitAd_DidExit      = \"exitad_onexit\";\r\nfunctionNames.Function_ExitAd_DidCancel    = \"exitad_oncancel\";\r\n\r\nfunctionNames.Function_Icon_DidLoad = \"icon_didload\";\r\nfunctionNames.Function_Icon_DidLoadFail = \"icon_didloadfail\";\r\nfunctionNames.Function_Icon_DidShow = \"icon_didshow\";\r\nfunctionNames.Function_Icon_DidClick = \"icon_didclick\";\r\n\r\n\r\nvar ltvMap = {\r\n    map :  new Object(),\r\n    length : 0,\r\n    // 激励视屏加载回调\r\n    rewardLoadFailCall    : null,\r\n    rewardLoadSuccessCall : null,\r\n    // 激励视屏展示回调\r\n    rewardShowCall        : null,\r\n    // rewardLoadDidOpenCall    : null,\r\n    // rewardLoadDidClickCall   : null,\r\n    // rewardLoadDidCloseCall   : null,\r\n    // rewardLoadDidGiveCall    : null,\r\n    // rewardLoadDidAbandonCall : null,\r\n    // android平台下定义\r\n    backPressedCall          : null,\r\n    // backPressedDidShowCall   : null,\r\n    // backPressedDidClickCall  : null,\r\n    // backPressedDidExitCall   : null,\r\n    // backPressedDidMoreCall   : null,\r\n    // backPressedDidCancelCall : null,\r\n\r\n    resetRewardLoadCallback : function() {\r\n        this.rewardLoadFailCall = null;\r\n        this.rewardLoadSuccessCall = null;\r\n    },\r\n\r\n    size : function() {\r\n        return this.length;\r\n    },\r\n\r\n    put : function(key, value) {\r\n\r\n        if( !this.map['_' + key])\r\n        {\r\n            ++this.length;\r\n        }\r\n\r\n        this.map['_' + key] = value;\r\n    },\r\n\r\n    remove : function(key) {\r\n        if(this.map['_' + key])\r\n        {\r\n            --this.length;\r\n            return delete this.map['_' + key];\r\n        }\r\n        else\r\n        {\r\n            return false;\r\n        }\r\n    },\r\n\r\n    exist : function(key) {\r\n        return this.map['_' + key] ? true : false;\r\n    },\r\n\r\n    get: function(key) {\r\n        return this.map['_' + key] ? this.map['_' + key] : null;\r\n    },\r\n\r\n    print : function() {\r\n        var str = '';\r\n\r\n        for(var each in this.map)\r\n        {\r\n            str += '/n' + each + '  Value:'+ this.map[each];\r\n        }\r\n        printLog(\"===> js map : \" + str);\r\n        return str;\r\n    },\r\n\r\n    test : function() {\r\n        this.put('1', function(){});\r\n        this.put('2', function(v){cc.log(\"===> js map function call at 2, v type: %s\", typeof v);});\r\n        this.put('4', function(){});\r\n        printLog(\"===> js map exist 1: \" + this.exist('1'));\r\n        printLog(\"===> js map exist 2: \" + this.exist('3'));\r\n        var value = this.get('2');\r\n        if (value) {\r\n            value(\"========================\");\r\n        }\r\n        this.print();\r\n        this.remove('1');\r\n        this.remove('3');\r\n        printLog(\"===> js map size: \" + this.size());\r\n    }\r\n};\r\n\r\nvar loadJsBridgeObject = function() {\r\n    if (cc.sys.os === cc.sys.OS_IOS && null != upltv) {\r\n        if (undefined == upltv.upltvbridge || upltv.upltvbridge == null) {\r\n            upltv.upltvbridge = upltvoc; ;\r\n        }\r\n    }\r\n    else if (cc.sys.os === cc.sys.OS_ANDROID && null != upltv) {\r\n        if (undefined == upltv.upltvbridge || upltv.upltvbridge == null) {\r\n            upltv.upltvbridge = upltva;\r\n        }\r\n    }\r\n}\r\n\r\nvar bridgeInterface = {\r\n    initSdkSuccessed : false,\r\n    initVokeCall : null,\r\n\r\n    gdprcallbak : null,\r\n\r\n    // 加载异步回调\r\n    initSdkCallback : function (msg1) {\r\n\r\n        if (msg1 == \"true\" || msg1 == true) {\r\n            this.initSdkSuccessed = true;\r\n        }\r\n\r\n        cc.log(\"===> js initSdkCallback..., %s\", msg1);\r\n        if (undefined != this.initVokeCall && this.initVokeCall != null && typeof this.initVokeCall == \"function\") {\r\n            this.initVokeCall(this.initSdkSuccessed);\r\n        }\r\n\r\n        if (undefined != this.initVokeCall) {\r\n            this.initVokeCall = null;\r\n        }\r\n    },\r\n\r\n    // 回调代理\r\n    vokeMethod : function(params) {\r\n        functionNames.handleVokeParams(params);\r\n    },\r\n\r\n    // 插屏ready异步回调代理\r\n    vokeILReadyMethod : function(cpPlaceId, r) {\r\n        this.handleILReadyMethod(cpPlaceId, r);\r\n    },\r\n\r\n    handleILReadyMethod : function(cpPlaceId, r) {\r\n        //cc.log(\"===> js handleILReadyMethod cpPlaceId: %s, r: %s, type r: %s\", cpPlaceId, r, typeof r);\r\n        var key = \"ILReady_\" + cpPlaceId;\r\n        var call = ltvMap.get(key);\r\n        if (call != null) {\r\n            ltvMap.remove(key);\r\n            if (typeof call == \"function\") {\r\n                var rr = false;\r\n                if (r == \"true\" || r == true) {\r\n                    rr = true;\r\n                }\r\n                call(rr);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// upltv 外部调用对象，提供js api，实现游戏js与adsdk之间的互通\r\n\r\nvar upltv = upltv || {\r\n\r\n    upltvbridge:null,\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK初始化接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    /*\r\n     初始化广告sdk\r\n     请务必优先完成sdk初始化后，才能正常使用SDK的其它API接口\r\n     参数zone：产品发行的区域，0:海外，1:中国大陆，2:自动根据ip定位\r\n     可选参数callback：SDK初始化完成后的回调接口, 回调接口包含一个布尔参数 callback(boolean)，true表示成功，否则失败\r\n    */\r\n    intSdk : function(zone, callback) {\r\n\r\n        if (cc.bridgeInterface.initSdkSuccessed == true) {\r\n            printLog(\"===> js intSdk don't called again with zone:\" + zone);\r\n            return;\r\n        }\r\n        printLog(\"===> js intSdk call with zone: \" + zone);\r\n        if (callback != undefined && callback != null && typeof callback == \"function\") {\r\n            printLog(\"===> js set initVokeCall...\");\r\n            cc.bridgeInterface.initVokeCall = callback;\r\n        }\r\n\r\n        var vokecall = \"cc.bridgeInterface.vokeMethod\";\r\n        var callname = \"cc.bridgeInterface.initSdkCallback\";\r\n\r\n        loadJsBridgeObject();\r\n\r\n        if (cc.sys.os === cc.sys.OS_IOS) {\r\n            // this.upltvbridge = upltvoc;\r\n            if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                this.upltvbridge.setShowLog(isShowLog);\r\n                this.upltvbridge.initIosSDK(zone, vokecall, callname);\r\n            }\r\n        }\r\n        else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            // this.upltvbridge = upltva;\r\n            if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                this.upltvbridge.setShowLog(isShowLog);\r\n                this.upltvbridge.initAndroidSDK(zone, vokecall, callname);\r\n            }\r\n        }\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK A/B广告测试相关接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    /*\r\n     进行A/B测试时，先初始化广告配置\r\n     参数 gameAccountId ：        string类型， 用户在游戏中的帐号id（必填）\r\n     参数 isCompleteTask  ：      boolean类型，是否完成了游戏中的新手任务\r\n     参数 isPaid ：               number类型，是否付费用户，0则未付费\r\n     参数 promotionChannelName ： string类型，推广渠道，没有可以传 \"\"\r\n     参数 gender ：               string类型，\"M\", \"F\"，未知可以传\"\"\r\n     参数 age ：                  number类型，未知可以传-1\r\n     参数 tags ：                 Array类型（string数组），标签，没有可以传 null\r\n    */\r\n    initAbtConfigJson : function(gameAccountId, isCompleteTask, isPaid, promotionChannelName, gender, age, tags) {\r\n        var tagstring = null;\r\n        if (undefined != tags && null != tags && tags instanceof Array) {\r\n            var count = tags.length;\r\n            //printLog(\"===> js initAbtConfigJson tags size: \" + count);\r\n            tagstring = \"{\\\"array\\\":[\";\r\n            for (var i = 0; i < count; i++) {\r\n                tagstring +=   \"\\\"\" + tags[i];\r\n                if (i < count - 1)\r\n                    tagstring += \"\\\",\";\r\n                else\r\n                    tagstring += \"\\\"]}\";\r\n            }\r\n            //printLog(\"===> js initAbtConfigJson tags string: \"+ tagstring);\r\n\r\n        }\r\n        if (undefined == isCompleteTask) {\r\n            isCompleteTask = false;\r\n        }\r\n\r\n        if (undefined == isPaid) {\r\n            isPaid = 0;\r\n        }\r\n        //printLog(\"===> js initAbtConfigJson isPaid: \" + isPaid);\r\n        if (undefined == promotionChannelName) {\r\n            promotionChannelName = \"\";\r\n        }\r\n\r\n        if (undefined == gender) {\r\n            gender = \"\";\r\n        }\r\n\r\n        if (undefined == age) {\r\n            age = -1;\r\n        }\r\n\r\n        if (cc.sys.os === cc.sys.OS_IOS) {\r\n            if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                this.upltvbridge.initIosAbtConfigJson(gameAccountId, isCompleteTask, isPaid, promotionChannelName, gender, age, tagstring);\r\n            }\r\n        }\r\n        else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n            if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                this.upltvbridge.initAndroidAbtConfigJson(gameAccountId, isCompleteTask, isPaid, promotionChannelName, gender, age, tagstring);\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     完成A/B Testing初始化后，通过此方法获取结果\r\n     为了保证正确获取结果，调用时间建议延后initAbtConfigJson() 2秒以上\r\n     参数 cpPlaceId ：        string类型， 广告位\r\n    */\r\n    getAbtConfig : function(cpPlaceId) {\r\n        if (undefined != cpPlaceId && null != cpPlaceId && typeof cpPlaceId == \"string\") {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                    var r = this.upltvbridge.getIosAbtConfig(cpPlaceId);\r\n                    if (r == \"\") {\r\n                        return null;\r\n                    }\r\n                    else {\r\n                        return r;\r\n                    }\r\n                }\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n                    var r = this.upltvbridge.getAndroidAbtConfig(cpPlaceId);\r\n                    if (r == \"\") {\r\n                        return null;\r\n                    }\r\n                    else {\r\n                        return r;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK 激励视屏广告相关接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 打开激励视屏的debug界面\r\n    showRewardDebugUI : function() {\r\n        //upltvbridge:showAndroidRewardDebugUI()\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosRewardDebugUI();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidRewardDebugUI();\r\n            }\r\n        }\r\n    },\r\n\r\n    // 设置激励视屏加载回调接口\r\n    // 用于监听当前激励视屏的加载结果（成功或失败）\r\n    // 此接口一旦回调，内部会自动释放，再次监听时需要重新设定回调接口\r\n    setRewardVideoLoadCallback : function(loadsuccess, locadfail) {\r\n        //printLog(\"===> js call setRewardVideoLoadCallback\");\r\n        if (undefined == loadsuccess || null == loadsuccess || typeof loadsuccess != \"function\") {\r\n            printLog(\"===> setRewardVideoLoadCallback(), the loadsuccess can't be undefined or null or non-function type.\");\r\n            return;\r\n        }\r\n        if (undefined == locadfail || null == locadfail || typeof locadfail != \"function\") {\r\n            printLog(\"===> setRewardVideoLoadCallback(), the locadfail can't be undefined or null or non-function type.\");\r\n            return;\r\n        }\r\n\r\n        ltvMap.rewardLoadFailCall = locadfail == undefined ? null : locadfail;\r\n        ltvMap.rewardLoadSuccessCall = loadsuccess == undefined ? null : loadsuccess;\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.setIosRewardVideoLoadCallback();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.setAndroidRewardVideoLoadCallback();\r\n            }\r\n        }\r\n    },\r\n\r\n    // 设置激励视屏展示回调接口，用于监听激励视屏广告的在某次展示时诸如点击，关闭，奖励发放等事件回调\r\n    // 展示接口的引用会被内部保存，不会释放\r\n    // 回调接口功能顺序：展示回调，点击回调，关闭回调，激励发放成功回调，激励发放失败回调\r\n    // 回调接口参数：事件类型，广告位，showCall(type, cpadid)\r\n    setRewardVideoShowCallback : function(showCall) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == showCall || null == showCall || typeof showCall != \"function\") {\r\n                printLog(\"===> setRewardVideoShowCallback(), the showCall can't be undefined or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            // if (undefined == didClickCall || null == didClickCall || typeof didClickCall != \"function\") {\r\n            //     cc.log(\"===> setRewardVideoShowCallback(), the didClickCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            // if (undefined == didCloseCall || null == didCloseCall || typeof didCloseCall != \"function\") {\r\n            //     cc.log(\"===> setRewardVideoShowCallback(), the didCloseCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            // if (undefined == didGiveCall || null == didGiveCall || typeof didGiveCall != \"function\") {\r\n            //     cc.log(\"===> setRewardVideoShowCallback(), the didGiveCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            // if (undefined == didAbandonCall || null == didAbandonCall || typeof didAbandonCall != \"function\") {\r\n            //     cc.log(\"===> setRewardVideoShowCallback(), the didAbandonCall can't be undefined or null or non-function type.\");\r\n            //     return\r\n            // }\r\n            ltvMap.rewardShowCall = showCall;\r\n            //ltvMap.rewardLoadDidOpenCall = didOpenCall == undefined ? null : didOpenCall;\r\n            //ltvMap.rewardLoadDidClickCall = didClickCall == undefined ? null : didClickCall;\r\n            //ltvMap.rewardLoadDidCloseCall = didCloseCall == undefined ? null : didCloseCall;\r\n            //ltvMap.rewardLoadDidGiveCall = didGiveCall == undefined ? null : didGiveCall;\r\n            //ltvMap.rewardLoadDidAbandonCall = didAbandonCall == undefined ? null : didAbandonCall;\r\n        }\r\n\r\n    },\r\n\r\n    // 判断激励视屏是否准备好\r\n    // 同步返回boolean结果，true 表示广告准备就绪可以展示，false表示广告还在请求中无法展示\r\n    // 通常在showRewardVideo(cpPlaceId)前，调用此方法\r\n    isRewardReady : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                return this.upltvbridge.isIosRewardReady();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                return this.upltvbridge.isAndroidRewardReady();\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    // 展示激励视屏\r\n    // 参数cpPlaceId：激励视屏展示时的广告位，用于业务打点，便于区分收益来源\r\n    showRewardVideo : function(cpPlaceId) {\r\n        //printLog(\"===> showIosRewardVideo : \" + cpPlaceId);\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (undefined == cpPlaceId) {\r\n                cpPlaceId = null;\r\n            }\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosRewardVideo(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                //printLog(\"===> showAndroidRewardVideo \"+ cpPlaceId);\r\n                this.upltvbridge.showAndroidRewardVideo(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK 插屏广告相关接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n\r\n    // 根据广告位，判断某个插屏广告是否准备就绪\r\n    // 异步返回boolean结果，true 表示广告准备就绪可以展示，false表示广告还在请求中无法展示\r\n    // 参数cpPlaceId：广告位\r\n    // 参数callback：回调接口，如callback(true) 或 callback(false)\r\n    isInterstitialReadyAsyn : function(cpPlaceId, callback) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"Please set the Paramer cpPlaceId's value in function isInterstitialReadyAsyn()\");\r\n                return;\r\n            }\r\n            if (callback == cpPlaceId || null == callback) {\r\n                printLog(\"Please set the Paramer callback's value in function isInterstitialReadyAsyn()\");\r\n                return;\r\n            }\r\n\r\n            if (typeof callback != \"function\") {\r\n                printLog(\"The Paramer 'callback' is  non-function type in function isInterstitialReadyAsyn()\");\r\n                return;\r\n            }\r\n\r\n            var key = \"ILReady_\" + cpPlaceId;\r\n            ltvMap.put(key, callback);\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.isIosInterstitialReadyAsyn(cpPlaceId, \"cc.bridgeInterface.vokeILReadyMethod\");\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.isAndroidInterstitialReadyAsyn(cpPlaceId, \"cc.bridgeInterface.vokeILReadyMethod\");\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    // 根据广告位，判断某个插屏广告是否准备就绪\r\n    // 同步返回boolean结果，true 表示广告准备就绪可以展示，false表示广告还在请求中无法展示\r\n    // 参数cpPlaceId：广告位\r\n    isInterstitialReady : function(cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> isInterstitialReady(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                return this.upltvbridge.isIosInterstitialReady(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                return this.upltvbridge.isAndroidInterstitialReady(cpPlaceId);\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    // 根据广告位，展示某个插屏广告\r\n    showInterstitialAd : function(cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"Please set the Paramer cpPlaceId's value in function showInterstitialAd()\");\r\n                return;\r\n            }\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosInterstitialAd(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidInterstitialAd(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 根据广告位，设置某个插屏广告加载回调接口\r\n    // 用于监听插屏广告的加载结果（成功或失败）\r\n    // 此接口一旦回调，内部会自动释放，再次监听时需要重新设定回调接口\r\n    setInterstitialLoadCallback : function(cpPlaceId, loadsuccess, locadfail) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> setIntersitialLoadCall(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (undefined == loadsuccess || null == loadsuccess || typeof loadsuccess != \"function\") {\r\n                printLog(\"===> setIntersitialLoadCall(), the loadsuccess can't be undefined or null or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            if (undefined == locadfail || null == locadfail || typeof locadfail != \"function\") {\r\n                printLog(\"===> setIntersitialLoadCall(), the locadfail can't be undefined or null or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            var k = cpPlaceId + \"_Interstitial\";\r\n            var v = ltvMap.get(k) || {};\r\n            v.interstitialLoadSuccessCall = loadsuccess;\r\n            v.interstitialLoadFailCall = locadfail;\r\n            ltvMap.put(k, v);\r\n            printLog(\"===> setIntersitialLoadCall() ltvMap size: \" + ltvMap.size());\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.setIosInterstitialLoadCallback(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.setAndroidInterstitialLoadCallback(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 设置插屏广告展示时的回调接口，用于监听插屏广告的在某次展示时诸如点击，关闭等事件回调\r\n    // 插件展示回调接口的引用会被内部保存，不会释放\r\n    // 回调接口功能顺序：展示回调，点击回调，关闭回调\r\n    // 回调接口参数：事件类型，广告位，showCall(type, cpPlaceId)\r\n    setInterstitialShowCallback : function(cpPlaceId, showCall) {\r\n\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> setInterstitialShowCallback(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (undefined == showCall || null == showCall || typeof showCall != \"function\") {\r\n                printLog(\"===> setInterstitialShowCallback(), the showCall can't be undefined or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            // if (undefined == didClickCall || null == didClickCall || typeof didClickCall != \"function\") {\r\n            //     cc.log(\"===> setInterstitialShowCallback(), the didClickCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            // if (undefined == didCloseCall || null == didCloseCall || typeof didCloseCall != \"function\") {\r\n            //     cc.log(\"===> setInterstitialShowCallback(), the didCloseCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            var k = cpPlaceId;\r\n            var v = ltvMap.get(k) || {};\r\n            v.interstitialShowCall = showCall;\r\n            // v.interstitialDidShowCall = didShowCall;\r\n            // v.interstitialDidClickCall = didClickCall;\r\n            // v.interstitialDidCloseCall = didCloseCall;\r\n\r\n            ltvMap.put(k, v)\r\n            //printLog(\"===> setInterstitialShowCallback() ltvMap size: \" + ltvMap.size());\r\n        }\r\n    },\r\n\r\n    showInterstitialDebugUI : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosInterstitialDebugUI();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidInterstitialDebugUI();\r\n            }\r\n        }\r\n    },\r\n\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK Banner广告相关接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 移除某个广告位的banner广告\r\n    removeBannerAdAt : function(cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> removeBannerAdAt(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.removeIosBannerAdAt(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.removeAndroidBannerAdAt(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 将某个广告位的banner广告展示在屏幕顶部\r\n    showBannerAdAtTop : function(cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> showBannerAdAtTop(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosBannerAdAtTop(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidBannerAdAtTop(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 将某个广告位的banner广告展示在屏幕底部\r\n    showBannerAdAtBottom : function(cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> showBannerAdAtBottom(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosBannerAdAtBottom(cpPlaceId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidBannerAdAtBottom(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 隐藏当前屏幕的顶部banner广告\r\n    hideBannerAdAtTop : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.hideIosBannerAdAtTop();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.hideAndroidBannerAdAtTop();\r\n            }\r\n        }\r\n    },\r\n\r\n    // 隐藏当前屏幕的底部广告\r\n    hideBannerAdAtBottom : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.hideIosBannerAdAtBottom();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.hideAndroidBannerAdAtBottom();\r\n            }\r\n        }\r\n    },\r\n\r\n    setTopBannerPadingForIphoneX : function(padding) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.setIosTopBannerPading(padding);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    // 设置某个banner广告位的展示的回调接口，回调接口会被保存只有调用upltv:removeBannerAdAt(cpPlaceId)才会被删除\r\n    // 参数cpPlaceId：banner广告位\r\n    // 参数bannerCall：banner回调接口\r\n    // 回调接口参数：事件类型，广告位，bannerCall(type, cpPlaceId)\r\n    setBannerShowCallback : function(cpPlaceId, bannerCall) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> setBannerShowCallback(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (undefined == bannerCall || null == bannerCall || typeof bannerCall != \"function\") {\r\n                printLog(\"===> setBannerShowCallback(), the bannerCall can't be undefined or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            // if (undefined == didClickCall || null == didClickCall || typeof didClickCall != \"function\") {\r\n            //     printLog(\"===> setBannerShowCallback(), the didClickCall can't be undefined or null or non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            // if (undefined != didRemoveCall && null != didRemoveCall && typeof didRemoveCall != \"function\") {\r\n            //     printLog(\"===> setBannerShowCallback(), the didRemoveCall may be undefined or null, but can't be non-function type.\");\r\n            //     return;\r\n            // }\r\n\r\n            var v = ltvMap.get(cpPlaceId) || {};\r\n            v.bannerEventCall = bannerCall;\r\n            // v.bannerDidShowCall = didShowCall;\r\n            // v.bannerDidClickCall = didClickCall;\r\n            // if (undefined != didRemoveCall && null != didRemoveCall) {\r\n            //     v.bannerDidRemoveCall = didRemoveCall;\r\n            // }\r\n\r\n            ltvMap.put(cpPlaceId, v);\r\n\r\n            //printLog(\"===> setBannerShowCallback() ltvMap size: \" + ltvMap.size());\r\n        }\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK Icon广告相关接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 设置某个icon广告位的展示的回调接口，回调接口会被保存只有调用upltv:removeIconAd(cpPlaceId)才会被删除\r\n    // 参数cpPlaceId：icon广告位\r\n    // 参数bannerCall：icon回调接口\r\n    // 回调接口参数：事件类型，广告位，iconCall(type, cpPlaceId)\r\n    setIconCallback: function (cpPlaceId, iconCall) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> setIconCallback(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\r\n            if (undefined == iconCall || null == iconCall || typeof iconCall != \"function\") {\r\n                printLog(\"===> setIconCallback(), the iconCall can't be undefined or null or non-function type.\");\r\n                return;\r\n            }\r\n\r\n            var v = ltvMap.get(cpPlaceId) || {};\r\n            v.iconEventCall = iconCall;\r\n\r\n            ltvMap.put(cpPlaceId, v);\r\n        }\r\n    },\r\n\r\n    // 展示icon广告\r\n    showIconAd: function (x,y,width,height,rotationAngle,cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> showIconAd(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n            \r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.showAndroidIconAdAt(x,y,width,height,rotationAngle,cpPlaceId);\r\n            }\r\n\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.showIosIconAdAt(x,y,width,height,rotationAngle,cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 移除icon广告\r\n    removeIconAd: function (cpPlaceId) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (undefined == cpPlaceId || null == cpPlaceId) {\r\n                printLog(\"===> removeIconAd(), the cpPlaceId can't be undefined or null.\");\r\n                return;\r\n            }\r\n\t\t\t\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.removeAndroidIconAdAt(cpPlaceId);\r\n            }\r\n\t\t\t\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.removeIosIconAdAt(cpPlaceId);\r\n            }\r\n        }\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK 手动控制Upltv广告的加载\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 满足需求：不希望在初始化自动加载广告，且要求根据游戏自主选择合适的时机进行广告加载\r\n    // 设置条件：当sdk默认禁用广告自动加载的功能，且upltv后台云配也关闭此功能时\r\n    // 如果以上条件不成立，即使调用以下方法，SDK也会自动忽略\r\n    loadAdsByManual : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.loadIosAdsByManual();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.loadAndroidAdsByManual();\r\n            }\r\n        }\r\n    },\r\n\r\n    exitApp : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.exitIosApp();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.exitAndroidApp();\r\n            }\r\n        }\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK Android平台 特殊接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 仅用于android平台\r\n    // 当mainifest的packagename与实际的名字不一致时，需要通过此方法设置当前Manifest中定义的PackageName\r\n    setManifestPackageName : function(pkg) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.setAndroidManifestPackageName(pkg);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    // 仅用于android平台\r\n    // 用于展示upltv在安卓平台的退出广告\r\n    onBackPressed : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.onAndroidBackPressed();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    // 向统计包的传递CustomerId(仅Android支持，对于非GP的包，可以传androidid)\r\n    // Version 3004(subversion 5) and above support this method\r\n    setCustomerId : function(androidid) {\r\n        loadJsBridgeObject();\r\n\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                if (undefined == androidid || null == androidid) {\r\n                    printLog(\"===> setCustomerId(), the anroidid can't be null\");\r\n                    return;\r\n                }\r\n\r\n                this.upltvbridge.setAndroidCustomerId(androidid);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    // 设置激退出广告回调接口，用于监听退出广告的在某次展示时如打开，点击，关闭等事件回调\r\n    // 展示接口的引用会被内部保存，不会释放\r\n    // 回调接口功能顺序：广告展示回调，点击回调，退出回调，更多广告回调，取消回调\r\n    // 回调接口参数：事件类型，消息，如backCall(type, message)调用\r\n    setBackPressedCallback : function(backCall) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                ltvMap.backPressedCall = backCall == undefined ? null : backCall;\r\n                // ltvMap.backPressedDidShowCall = didShowCall == undefined ? null : didShowCall;\r\n                // ltvMap.backPressedDidClickCall = didClickCall == undefined ? null : didClickCall;\r\n                // ltvMap.backPressedDidExitCall = didExitCall == undefined ? null : didExitCall;\r\n                // ltvMap.backPressedDidMoreCall = didMoreCall == undefined ? null : didMoreCall;\r\n                // ltvMap.backPressedDidCancelCall = didCancelCall == undefined ? null : didCancelCall;\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n\r\n            }\r\n        }\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK GDPR接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n\r\n    // 外部进行GDPR授权时，将用户授权结果同步到UPSDK时，调用此方法\r\n    // 请在初始UPSDK之前调用\r\n    // @param gdprPermissionEnumValue，取upltv.GDPRPermissionEnum定义的值\r\n    // Version 3003 and above support this method\r\n    updateAccessPrivacyInfoStatus : function(gdprPermissionEnumValue) {\r\n\r\n        loadJsBridgeObject();\r\n\r\n        if (undefined == gdprPermissionEnumValue || null == gdprPermissionEnumValue) {\r\n            printLog(\"===> updateAccessPrivacyInfoStatus(), the gdprPermissionEnumValue can't be null\");\r\n            return;\r\n        }\r\n\r\n        if (gdprPermissionEnumValue != upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown\r\n            && gdprPermissionEnumValue != upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted\r\n            && gdprPermissionEnumValue != upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined) {\r\n            printLog(\"===> updateAccessPrivacyInfoStatus(), the gdprPermissionEnumValue is a wrong type.\");\r\n            return;\r\n        }\r\n\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.updateAndroidAccessPrivacyInfoStatus(gdprPermissionEnumValue);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.updateIosAccessPrivacyInfoStatus(gdprPermissionEnumValue);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 获取当前GDPR授权状态，返回GDPRPermissionEnum枚举值\r\n    // 可在初始UPSDK之前调用\r\n    // Version 3003 and above support this method\r\n    getAccessPrivacyInfoStatus : function() {\r\n        loadJsBridgeObject();\r\n        var status = 0;\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                status = this.upltvbridge.getAndroidAccessPrivacyInfoStatus();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n                status = this.upltvbridge.getIosAccessPrivacyInfoStatus();\r\n            }\r\n        }\r\n\r\n        if (status == 1) {\r\n            return upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted;\r\n        } else if (status == 2) {\r\n            return upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined;\r\n        } else {\r\n            return upltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown;\r\n        }\r\n    },\r\n\r\n    // 弹出授权窗口，向用户说明重要数据收集的情况并询问用户是否同意授权\r\n    // 如果用户拒绝授权将放弃相关数据的收集\r\n    // 请在初始化UPSDK之前调用\r\n    // @param callback\r\n    // Version 3003 and above support this method\r\n    notifyAccessPrivacyInfoStatus : function(callback) {\r\n\r\n        loadJsBridgeObject();\r\n\r\n        if (undefined == callback || null == callback) {\r\n            printLog(\"===> notifyAccessPrivacyInfoStatus(), the callback can't be null.\");\r\n            return;\r\n        }\r\n\r\n        if ( typeof callback != \"function\") {\r\n            printLog(\"===> notifyAccessPrivacyInfoStatus(), the callback must be function.\");\r\n            return;\r\n        }\r\n\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            bridgeInterface.gdprcallbak.functionId = bridgeInterface.gdprcallbak.functionId + 1;\r\n                var callId = bridgeInterface.gdprcallbak.functionId;\r\n            var key = \"\" + callId;\r\n            ltvMap.put(key, callback);\r\n            var call = \"cc.bridgeInterface.gdprcallbak.javaCall\";\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.notifyAndroidAccessPrivacyInfoStatus(call, callId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.notifyIosAccessPrivacyInfoStatus(call, key);\r\n            }\r\n        }\r\n    },\r\n\r\n    isEuropeanUnionUser : function(callback) {\r\n\r\n        loadJsBridgeObject();\r\n\r\n        if (undefined == callback || null == callback) {\r\n            printLog(\"===> isEuropeanUnionUser(), the callback can't be null.\");\r\n            return;\r\n        }\r\n\r\n        if ( typeof callback != \"function\") {\r\n            printLog(\"===> isEuropeanUnionUser(), the callback must be function.\");\r\n            return;\r\n        }\r\n\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            bridgeInterface.gdprcallbak.functionId = bridgeInterface.gdprcallbak.functionId + 1;\r\n            var callId = bridgeInterface.gdprcallbak.functionId;\r\n            var key = \"\" + callId;\r\n            ltvMap.put(key, callback);\r\n            var call = \"cc.bridgeInterface.gdprcallbak.javaCall\";\r\n            // var call = \"module.exports.upltv.GDPRPermissionEnum.javaCall\";\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.isAndroidEuropeanUnionUser(call, callId);\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_IOS) {\r\n                this.upltvbridge.isIosEuropeanUnionUser(call, key);\r\n            }\r\n        }\r\n    },\r\n\r\n    isOnlineDebugReportEnable : function() {\r\n        if (cc.sys.os === cc.sys.OS_ANDROID\r\n            || cc.sys.os === cc.sys.OS_IOS) {\r\n            return this.upltvbridge.isOnlineDebugReportEnable();\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    },\r\n\r\n    onlineDebugReport : function(callname, msg, cpid) {\r\n        if (cc.sys.os === cc.sys.OS_ANDROID\r\n            || cc.sys.os === cc.sys.OS_IOS) {\r\n                //cc.log(\"===> js onlineDebugReport function : %s\", callname);\r\n                if (functionNames.Function_Receive_Callback == callname) {\r\n                    this.upltvbridge.reportIvokePluginMethodReceive(msg);\r\n                }\r\n                else if (functionNames.Function_Reward_WillOpen == callname) {\r\n                }\r\n                else if (functionNames.Function_Reward_DidOpen == callname) {\r\n                    this.upltvbridge.reportRDShowDid(msg);\r\n                }\r\n                else if (functionNames.Function_Reward_DidClick == callname) {\r\n                    this.upltvbridge.reportRDRewardClick(msg);\r\n                }\r\n                else if (functionNames.Function_Reward_DidClose == callname) {\r\n                    this.upltvbridge.reportRDRewardClose(msg);\r\n                }\r\n                else if (functionNames.Function_Reward_DidGivien == callname) {\r\n                    this.upltvbridge.reportRDRewardGiven(msg);\r\n                }\r\n                else if (functionNames.Function_Reward_DidAbandon == callname) {\r\n                    this.upltvbridge.reportRDRewardCancel(msg);\r\n                }\r\n                else if (functionNames.Function_Interstitial_Willshow == callname) {\r\n                }\r\n                else if (functionNames.Function_Interstitial_Didshow == callname) {\r\n                    this.upltvbridge.reportILShowDid(msg, cpid);\r\n                }\r\n                else if (functionNames.Function_Interstitial_Didclick == callname) {\r\n                    this.upltvbridge.reportILClick(msg, cpid);\r\n                }\r\n                else if (functionNames.Function_Interstitial_Didclose == callname) {\r\n                    this.upltvbridge.reportILClose(msg, cpid);\r\n                }\r\n        }\r\n    },\r\n    \r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK Debug接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    \r\n    // 判断SDK是否开启了Debug log\r\n    // 同步返回boolean结果，true 表示已开启，false表示未开启\r\n    isLogOpened : function() {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            \r\n            if (cc.sys.os === cc.sys.OS_IOS) {\r\n                return this.upltvbridge.isIosLogOpened();\r\n            }\r\n            else if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                return this.upltvbridge.isAndroidLogOpened();\r\n            }\r\n        }\r\n        return false;\r\n    },\r\n\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n    // >>>> JS -- SDK Android平台 特殊接口\r\n    // >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>\r\n\r\n    // 仅用于android平台\r\n    // 设置用户是否是小于13岁的儿童\r\n    // Version 3008.1 and above support this method\r\n    setIsChild: function (isChild) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.setAndroidIsChild(isChild);\r\n            }\r\n        }\r\n    },\r\n\r\n    // 仅用于android平台\r\n    // 设置用户出生年月\r\n    // Version 3008.3 and above support this method\r\n    setBirthday: function (year, month) {\r\n        if (undefined != this.upltvbridge && this.upltvbridge != null) {\r\n            if (cc.sys.os === cc.sys.OS_ANDROID) {\r\n                this.upltvbridge.setAndroidBirthday(year, month);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nbridgeInterface.gdprcallbak = {\r\n    functionId : 0,\r\n    javaCall : function(callId, value) {\r\n        var key = \"\" + callId;\r\n        var call = ltvMap.get(key);\r\n        if (null != call) {\r\n            if (null != call && typeof call == \"function\") {\r\n                call(value);\r\n            }\r\n            ltvMap.remove(key);\r\n        }\r\n    }\r\n};\r\nupltv.GDPRPermissionEnum = {};\r\nupltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown  = 0;\r\nupltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted  = 1;\r\nupltv.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined  = 2;\r\n\r\nupltv.AdEventType = {};\r\n// 激励视屏回调事件类型\r\nupltv.AdEventType.VIDEO_EVENT_DID_SHOW = 0;\r\nupltv.AdEventType.VIDEO_EVENT_DID_CLICK = 1;\r\nupltv.AdEventType.VIDEO_EVENT_DID_CLOSE = 2;\r\nupltv.AdEventType.VIDEO_EVENT_DID_GIVEN_REWARD = 3;\r\nupltv.AdEventType.VIDEO_EVENT_DID_ABANDON_REWARD = 4;\r\n\r\n// 插屏回调事件类型\r\nupltv.AdEventType.INTERSTITIAL_EVENT_DID_SHOW = 5;\r\nupltv.AdEventType.INTERSTITIAL_EVENT_DID_CLICK = 6;\r\nupltv.AdEventType.INTERSTITIAL_EVENT_DID_CLOSE = 7;\r\n\r\n// Banner广告事件类型\r\nupltv.AdEventType.BANNER_EVENT_DID_SHOW = 8;\r\nupltv.AdEventType.BANNER_EVENT_DID_CLICK = 9;\r\nupltv.AdEventType.BANNER_EVENT_DID_REMOVED = 10;\r\n\r\n// exit 广告事件类型\r\nupltv.AdEventType.EXITAD_EVENT_DID_SHOW = 11;\r\nupltv.AdEventType.EXITAD_EVENT_DID_CLICK = 12;\r\nupltv.AdEventType.EXITAD_EVENT_DID_CLICKMORE = 13;\r\nupltv.AdEventType.EXITAD_EVENT_DID_EXIT = 14;\r\nupltv.AdEventType.EXITAD_EVENT_DID_CANCEL = 15;\r\n\r\n// icon广告事件类型\r\nupltv.AdEventType.ICON_EVENT_DID_LOAD = 16;\r\nupltv.AdEventType.ICON_EVENT_DID_LOADFAIL = 17;\r\nupltv.AdEventType.ICON_EVENT_DID_SHOW = 18;\r\nupltv.AdEventType.ICON_EVENT_DID_CLICK = 19;\r\n\r\nupltv.AdEventType.VIDEO_EVENT_WILL_SHOW = 20;\r\nupltv.AdEventType.INTERSTITIAL_EVENT_WILL_SHOW = 21;\r\n\r\nmodule.exports.upltv = upltv;\r\nmodule.exports.bridgeInterface = bridgeInterface;\r\n"]}